#sb-root {
  --ui-accent-color: #464cfc;
  --highlight-color: rgba(255, 255, 0, 0.5);
  --link-color: #0330cb;
  --link-missing-color: #9e4705;
  --meta-color: #650007;
  --meta-subtle-color: #959595;
  --subtle-color: #676767;
  --subtle-background-color: rgba(72, 72, 72, 0.1);

  --top-background-color: #e1e1e1;
  --top-border-color: #cacaca;
  --top-sync-error-color: #fdf8cb;

  --panel-background-color: #fff;
  --panel-border-color: #fff;

  --bhs-background-color: #fff;
  --bhs-border-color: rgb(193, 193, 193);

  --modal-background-color: #fff;
  // --modal-border-color: #000;
  --modal-border-color: rgb(108, 108, 108);
  --modal-header-label-color: var(--ui-accent-color);
  --modal-help-background-color: #eee;
  --modal-help-color: #555;
  --modal-selected-option-background-color: var(--ui-accent-color);
  --modal-selected-option-color: #eee;
  --modal-hint-background-color: #212476;
  --modal-hint-color: #eee;

  --notifications-background-color: rgb(41, 41, 41);
  --notification-info-background-color: rgb(187, 221, 247);
  --notification-error-background-color: rgb(255, 84, 84);

  --saved-color: #111;
  --unsaved-color: #5e5e5e;
  --loading-color: #7a7a7a;

  --action-button-background-color: transparent;
  --action-button-color: #292929;
  --action-button-hover-color: #0772be;

  --editor-selection-background-color: #d7e1f6;
  --editor-panels-bottom-background-color: #e1e1e1;
  --editor-panels-bottom-border-color: #cacaca;
  --editor-completion-detail-color: #555;
  --editor-completion-detail-selected-color: #d2d2d2;
  --editor-list-bullet-color: rgb(150, 150, 150);
  --editor-heading-color: #333;
  --editor-heading-meta-color: var(--meta-subtle-color);
  --editor-hashtag-background-color: #002b6aad;
  --editor-hashtag-color: #e2e9ff;
  --editor-hashtag-border-color: #0120416b;
  --editor-ruler-color: rgb(76, 75, 75);
  --editor-naked-url-color: var(--link-color);
  --editor-link-color: var(--link-color);
  --editor-link-url-color: var(--link-color);
  --editor-link-meta-color: var(--meta-subtle-color);
  --editor-wiki-link-page-background-color: rgba(77, 141, 255, 0.07);
  --editor-wiki-link-page-color: var(--link-color);
  --editor-wiki-link-page-missing-color: var(--link-missing-color);
  --editor-wiki-link-color: #8f96c2;
  --editor-named-anchor-color: var(--meta-subtle-color);
  --editor-command-button-background-color: #e3dfdf;
  --editor-command-button-meta-color: var(--meta-subtle-color);
  --editor-command-button-border-color: gray;
  --editor-line-meta-color: var(--meta-subtle-color);
  --editor-meta-color: var(--meta-color);
  --editor-table-head-background-color: #333;
  --editor-table-head-color: #eee;
  --editor-table-even-background-color: #f3f3f3;
  --editor-blockquote-background-color: var(--subtle-background-color);
  --editor-blockquote-color: var(--subtle-color);
  --editor-blockquote-border-color: rgb(74, 74, 74);
  --editor-code-background-color: var(--subtle-background-color);
  --editor-struct-color: darkred;
  --editor-highlight-background-color: var(--highlight-color);
  --editor-code-comment-color: var(--meta-subtle-color);
  --editor-code-variable-color: #024866;
  --editor-code-typename-color: #038138;
  --editor-code-string-color: #440377;
  --editor-code-number-color: #440377;
  --editor-code-info-color: var(--subtle-color);
  --editor-code-atom-color: darkred;
  --editor-admonition-note-border-color: rgb(0, 184, 212);
  --editor-admonition-note-background-color: rgba(0, 184, 212, 0.1);
  --editor-admonition-warning-border-color: rgb(255, 145, 0);
  --editor-admonition-warning-background-color: rgba(255, 145, 0, 0.1);
  --editor-frontmatter-background-color: rgba(255, 246, 189, 0.5);
  --editor-frontmatter-color: var(--subtle-color);
  --editor-frontmatter-marker-color: #89000080;
  --editor-directive-border-color: #0000000f;
  --editor-directive-font-color: #5b5b5b;
  --editor-directive-info-color: var(--subtle-color);
  --editor-task-marker-color: var(--subtle-color);

  --ui-font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --editor-font: "iA-Mono", "Menlo";
  --editor-width: 800px;
  font-family: var(--ui-font);
}

#sb-top {
  background-color: var(--top-background-color);
  border-bottom: var(--top-border-color) 1px solid;
}

#sb-top.sb-sync-error {
  background-color: var(--top-sync-error-color);
}

.sb-panel {
  border-left: 1px solid var(--panel-border-color);
  background-color: var(--panel-background-color);
}

.sb-bhs {
  border-top: var(--bhs-border-color) 1px solid;
  background-color: var(--bhs-background-color);
}

.sb-modal {
  border: 1px solid var(--modal-border-color);
  background-color: var(--modal-background-color);
}

.sb-notifications {
  font-family: var(--editor-font);
}

.sb-notifications > div {
  border: var(--notifications-background-color) 1px solid;
}

.sb-notification-info {
  background-color: var(--notification-info-background-color);
}

.sb-notification-error {
  background-color: var(--notification-error-background-color);
}

.sb-saved {
  color: var(--saved-color);
}

.sb-unsaved {
  color: var(--unsaved-color);
}

.sb-loading {
  color: var(--loading-color);
}

.sb-actions button {
  border: 0;
  margin: 3px;
  padding: 5px;
  background-color: var(--action-button-background-color);
  color: var(--action-button-color);
  cursor: pointer;
}

.sb-actions button:hover {
  color: var(--action-button-hover-color);
}

/* Modal boxes */
.sb-modal-box {
  background-color: var(--modal-background-color);
  border: var(--modal-border-color) 1px solid;
  box-shadow: rgba(0, 0, 0, 0.35) 0px 20px 20px;

  .cm-scroller {
    font-family: var(--ui-font);
  }

  .sb-header {
    border-bottom: 1px var(--modal-border-color) solid;

    label {
      color: var(--modal-header-label-color);
    }

    .sb-mini-editor {
      font-family: var(--ui-font);
    }
  }

  .sb-help-text {
    background-color: var(--modal-help-background-color);
    border-bottom: 1px var(--modal-border-color) solid;
    color: var(--modal-help-color);
  }

  .sb-selected-option {
    background-color: var(--modal-selected-option-background-color);
    color: var(--modal-selected-option-color);
  }

  .sb-result-list .sb-hint {
    color: var(--modal-hint-color);
    background-color: var(--modal-hint-background-color);
  }
}

/* Editor */

#sb-editor {
  .cm-content {
    font-family: var(--editor-font);
  }

  .cm-selectionBackground {
    background-color: var(--editor-selection-background-color);
  }

  .cm-panels-bottom {
    background-color: var(--editor-panels-bottom-background-color);
    border-top: var(--editor-panels-bottom-border-color) 1px solid;
  }

  .cm-editor .cm-tooltip-autocomplete {
    .cm-completionDetail {
      color: var(--editor-completion-detail-color);
    }

    li[aria-selected] .cm-completionDetail {
      color: var(--editor-completion-detail-selected-color);
    }
  }

  .cm-list-bullet::after {
    color: var(--editor-list-bullet-color);
  }

  .sb-line-h1,
  .sb-line-h2,
  .sb-line-h3,
  .sb-line-h4 {
    // background-color: rgba(0, 30, 77, 0.5);
    color: var(--editor-heading-color);
  }

  .sb-line-h1 .sb-meta,
  .sb-line-h2 .sb-meta,
  .sb-line-h3 .sb-meta,
  .sb-line-h4 .sb-meta {
    color: var(--editor-heading-meta-color);
  }

  .sb-hashtag {
    color: var(--editor-hashtag-color);
    background-color: var(--editor-hashtag-background-color);
    border: 1px solid var(--editor-hashtag-border-color);
  }

  .sb-line-hr {
    border-top: var(--editor-ruler-color) solid 1px;
  }

  .sb-naked-url {
    color: var(--editor-naked-url-color);
  }

  .sb-named-anchor {
    color: var(--editor-named-anchor-color);
  }

  .sb-command-button {
    font-family: var(--editor-font);
    background-color: var(--editor-command-button-background-color);
    border: 1px solid var(--editor-command-button-border-color);
  }

  .sb-command-link {
    &.sb-meta {
      color: var(--editor-command-button-meta-color);
    }
    &.sb-command-link-name {
      background-color: var(--editor-command-button-background-color);
      border: 1px solid var(--editor-command-button-border-color);
    }
  }

  /* Color list item this way */
  .sb-line-li .sb-meta {
    color: var(--editor-line-meta-color);
  }

  /* Then undo other meta */
  .sb-line-li .sb-meta ~ .sb-meta {
    color: var(--editor-meta-color);
  }

  .sb-table-widget {
    thead tr {
      background-color: var(--editor-table-head-background-color);
      color: var(--editor-table-head-color);
    }

    tbody tr:nth-of-type(even) {
      background-color: var(--editor-table-even-background-color);
    }
  }

  .sb-line-blockquote {
    background-color: var(--editor-blockquote-background-color);
    color: var(--editor-blockquote-color);
    border-left: 1px solid var(--editor-blockquote-border-color);
  }

  .sb-line-code {
    background-color: var(--editor-code-background-color);
  }

  .sb-struct {
    color: var(--editor-struct-color);
  }

  .sb-code {
    background-color: var(--editor-code-background-color);
  }

  .sb-highlight {
    background-color: var(--editor-highlight-background-color);
  }

  .sb-line-fenced-code {
    background-color: var(--editor-code-background-color);
  }

  .sb-line-fenced-code .sb-comment {
    color: var(--editor-code-comment-color);
  }

  .sb-variableName {
    color: var(--editor-code-variable-color);
  }

  .sb-typeName {
    color: var(--editor-code-typename-color);
  }

  .sb-string,
  .sb-string2 {
    color: var(--editor-code-string-color);
  }

  .sb-number {
    color: var(--editor-code-number-color);
  }

  .sb-meta {
    color: var(--editor-meta-color);
  }

  .sb-admonition.sb-admonition-note {
    border-left-color: var(--editor-admonition-note-border-color);
  }

  .sb-admonition.sb-admonition-warning {
    border-left-color: var(--editor-admonition-warning-border-color);
  }

  .sb-admonition-title.sb-admonition-note {
    background-color: var(--editor-admonition-note-background-color);
  }

  .sb-admonition-title.sb-admonition-warning {
    background-color: var(--editor-admonition-warning-background-color);
  }

  .sb-admonition-note .sb-admonition-icon {
    color: var(--editor-admonition-note-border-color);
  }

  .sb-admonition-warning .sb-admonition-icon {
    color: var(--editor-admonition-warning-border-color);
  }

  // Frontmatter

  .sb-frontmatter {
    background-color: var(--editor-frontmatter-background-color);
    color: var(--editor-frontmatter-color);
  }

  .sb-frontmatter-marker {
    color: var(--editor-frontmatter-marker-color);
  }

  // Directives

  .sb-directive-body {
    border-left: 1px solid var(--editor-directive-border-color);
    border-right: 1px solid var(--editor-directive-border-color);
  }

  .cm-line.sb-directive-start,
  .cm-line.sb-directive-end {
    color: var(--editor-directive-font-color);

    background-color: rgb(233, 233, 233, 50%);
    padding: 3px;
  }

  .sb-directive-start {
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
    border-style: solid;
    border-color: var(--editor-directive-border-color);
    border-width: 1px 1px 0 1px;
  }

  .sb-directive-end {
    border-bottom-left-radius: 10px;
    border-bottom-right-radius: 10px;
    border-style: solid;
    border-color: var(--editor-directive-border-color);
    border-width: 0 1px 1px 1px;
  }

  .sb-directive-start-outside,
  .sb-directive-end-outside {
    & > span.sb-directive-placeholder {
      color: var(--editor-directive-info-color);
    }
  }

  .sb-emphasis {
    font-style: italic;
  }

  .sb-strong {
    font-weight: 900;
  }

  .sb-line-code-outside .sb-code-info {
    color: var(--editor-code-info-color);
  }

  .sb-link:not(.sb-meta, .sb-url) {
    color: var(--editor-link-color);
  }

  .sb-link.sb-url {
    color: var(--editor-link-meta-color);
  }

  .sb-url:not(.sb-link) {
    color: var(--editor-link-url-color);
  }

  .sb-atom {
    color: var(--editor-code-atom-color);
  }

  .sb-wiki-link-page {
    color: var(--editor-wiki-link-page-color);
    background-color: var(--editor-wiki-link-page-background-color);
  }

  a.sb-wiki-link-page-missing,
  .sb-wiki-link-page-missing > .sb-wiki-link-page {
    color: var(--editor-wiki-link-page-missing-color);
    background-color: var(--editor-wiki-link-page-background-color);
  }

  .sb-wiki-link {
    color: var(--editor-wiki-link-page-color); // #8f96c2;
  }

  .sb-task-marker {
    color: var(--editor-task-marker-color);
  }

  .sb-line-comment {
    background-color: var(
      --editor-code-comment-color
    ); // rgba(255, 255, 0, 0.5);
  }
}

html[data-theme="dark"] {
  #sb-root {
    background-color: #111;
    --directive-font-color: #adadad;
    color: #fff;
  }

  #sb-top {
    background-color: rgb(38, 38, 38);
    border-bottom: rgb(62, 62, 62) 1px solid;
    color: #fff;
  }

  #sb-top.sb-sync-error {
    background-color: #622626;
  }

  .sb-directive-start {
    background-color: rgb(38, 38, 38) !important;
  }

  .sb-actions button {
    color: #adadad;
  }

  .sb-actions button:hover {
    color: #37a1ed;
  }

  // Page states
  .sb-saved {
    color: rgb(225, 225, 225);
  }

  .sb-unsaved {
    color: #c7c7c7;
  }

  .sb-loading {
    color: #c7c7c7;
  }

  .sb-meta {
  }

  .sb-modal-box,
  /* duplicating the class name to increase specificity */
  .sb-help-text.sb-help-text {
    color: #ccc;
    background-color: rgb(38, 38, 38);
  }

  .sb-help-text {
    border-bottom: 1px solid #6c6c6c;
  }

  #sb-editor {
    .cm-selectionBackground {
      background-color: #d7e1f630 !important;
    }

    .cm-panels-bottom {
      border-top: rgb(62, 62, 62) 1px solid;
      background: rgb(38, 38, 38);
      color: white !important;

      .cm-vim-panel {
        max-width: var(--editor-width);
        margin: auto;
      }
    }

    .sb-line-h1,
    .sb-line-h2,
    .sb-line-h3,
    .sb-line-h4 {
      color: #d1d1d1;
    }

    .sb-frontmatter {
      background-color: rgb(41, 40, 35, 0.5);

      .sb-frontmatter-marker {
        color: #fff;
      }
    }

    .sb-line-li .sb-meta ~ .sb-meta,
    .sb-line-fenced-code .sb-meta {
      color: #d17278;
    }

    .sb-wiki-link-page {
      color: #7e99fc;
      background-color: #a3bce712;
    }

    .sb-code,
    .sb-line-fenced-code,
    .sb-task-marker {
      background-color: #333;
    }

    .sb-notifications > div {
      border: rgb(197, 197, 197) 1px solid;
      background-color: #333;
    }

    .sb-naked-url {
      color: #94b0f4;
    }

    .sb-command-link {
      background-color: #595959;
    }

    .sb-table-widget {
      tbody tr:nth-of-type(even) {
        background-color: #686868;
      }
    }
  }
}
